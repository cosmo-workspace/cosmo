['Dashboard server [Workspace] [CreateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" template:"template1" 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"admin-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [CreateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" template:"template1" 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-admin-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1
  },
  \"Status\": {
    \"instance\": {},
    \"config\": {}
  }
}
"""

['Dashboard server [Workspace] [CreateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" template:"template1" vars:{key:"HOGE" value:"HOGEHOGE"} 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"admin-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1,
      \"vars\": {
        \"HOGE\": \"HOGEHOGE\"
      }
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [CreateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" template:"template1" vars:{key:"HOGE" value:"HOGEHOGE"} 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-admin-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1,
    \"vars\": {
      \"HOGE\": \"HOGEHOGE\"
    }
  },
  \"Status\": {
    \"instance\": {},
    \"config\": {}
  }
}
"""

['Dashboard server [Workspace] [CreateWorkspace] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" template:"template1" 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"normal-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [CreateWorkspace] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" template:"template1" 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-normal-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1
  },
  \"Status\": {
    \"instance\": {},
    \"config\": {}
  }
}
"""

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" template:"template1" 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" template:"template1" 1']
SnapShot = 'invalid_argument: invalid CreateWorkspaceRequest.WsName: value length must be at least 1 runes'

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"XXXX" template:"template1" 1']
SnapShot = 'internal: failed to create workspace'

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"existing-ws" template:"template1" 1']
SnapShot = 'already_exists: Workspace already exists'

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" 1']
SnapShot = 'invalid_argument: invalid CreateWorkspaceRequest.Template: value length must be at least 1 runes'

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" template:"XXX" 1']
SnapShot = 'invalid_argument: failed to get workspace config in template'

['Dashboard server [Workspace] [CreateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" ws_name:"ws1" template:"template1" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [Workspace] [DeleteNetworkRule] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule_name:"nw1" 1']
SnapShot = """
{
  \"message\": \"Successfully removed network rule\",
  \"network_rule\": {
    \"name\": \"nw1\",
    \"port_number\": 9999,
    \"group\": \"gp1\",
    \"http_path\": \"/\"
  }
}
"""

['Dashboard server [Workspace] [DeleteNetworkRule] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule_name:"nw1" 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-admin-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1,
    \"network\": [
      {
        \"name\": \"main\",
        \"portNumber\": 18080,
        \"httpPath\": \"/\",
        \"host\": \"main-{{WOKRSPACE}}-{{USER}}.domain\",
        \"group\": \"main\",
        \"public\": false
      }
    ]
  },
  \"Status\": {
    \"instance\": {},
    \"phase\": \"Pending\",
    \"config\": {
      \"mainServicePortName\": \"main\"
    }
  }
}
"""

['Dashboard server [Workspace] [DeleteNetworkRule] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" network_rule_name:"nw1" 1']
SnapShot = """
{
  \"message\": \"Successfully removed network rule\",
  \"network_rule\": {
    \"name\": \"nw1\",
    \"port_number\": 9999,
    \"group\": \"gp1\",
    \"http_path\": \"/\"
  }
}
"""

['Dashboard server [Workspace] [DeleteNetworkRule] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" network_rule_name:"nw1" 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-normal-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1
  },
  \"Status\": {
    \"instance\": {},
    \"phase\": \"Pending\",
    \"config\": {
      \"mainServicePortName\": \"main\"
    }
  }
}
"""

['Dashboard server [Workspace] [DeleteNetworkRule] ❌ fail with an unexpected error at update: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule_name:"nw1" 1']
SnapShot = 'internal: failed to remove network rule'

['Dashboard server [Workspace] [DeleteNetworkRule] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" network_rule_name:"nw1" 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [DeleteNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule_name:"main" 1']
SnapShot = 'invalid_argument: main port cannot be removed'

['Dashboard server [Workspace] [DeleteNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule_name:"xxx" 1']
SnapShot = 'invalid_argument: port name xxx is not found'

['Dashboard server [Workspace] [DeleteNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"xxx" network_rule_name:"nw2" 1']
SnapShot = 'not_found: workspace is not found'

['Dashboard server [Workspace] [DeleteNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" ws_name:"ws1" network_rule_name:"nw2" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [Workspace] [DeleteWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"normal-user" ws_name:"ws1" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"normal-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1,
      \"vars\": {
        \"HOGE\": \"HOGEHOGE\"
      }
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [DeleteWorkspace] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"normal-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1,
      \"vars\": {
        \"HOGE\": \"HOGEHOGE\"
      }
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [DeleteWorkspace] ❌ fail with an unexpected error at delete: Entry: admin-user, user_name:"normal-user" ws_name:"ws1" 1']
SnapShot = 'internal: failed to delete workspace'

['Dashboard server [Workspace] [DeleteWorkspace] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [DeleteWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"xxx" 1']
SnapShot = 'not_found: workspace is not found'

['Dashboard server [Workspace] [DeleteWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" ws_name:"ws1" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [Workspace] [GetWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" 1']
SnapShot = """
{
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"admin-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [GetWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"normal-user" ws_name:"ws1" 1']
SnapShot = """
{
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"normal-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1,
      \"vars\": {
        \"HOGE\": \"HOGEHOGE\"
      }
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [GetWorkspace] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" 1']
SnapShot = """
{
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"normal-user\",
    \"spec\": {
      \"template\": \"template1\",
      \"replicas\": 1,
      \"vars\": {
        \"HOGE\": \"HOGEHOGE\"
      }
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [GetWorkspace] ❌ fail with an unexpected error at list: Entry: admin-user, user_name:"normal-user" ws_name:"ws1" 1']
SnapShot = 'internal: failed to get user'

['Dashboard server [Workspace] [GetWorkspace] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [GetWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"xxx" 1']
SnapShot = 'not_found: workspace is not found'

['Dashboard server [Workspace] [GetWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" ws_name:"ws1" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [Workspace] [GetWorkspaces] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" 1']
SnapShot = """
{
  \"items\": [
    {
      \"name\": \"ws1\",
      \"owner_name\": \"admin-user\",
      \"spec\": {
        \"template\": \"template1\",
        \"replicas\": 1
      },
      \"status\": {
        \"phase\": \"Pending\"
      }
    },
    {
      \"name\": \"ws2\",
      \"owner_name\": \"admin-user\",
      \"spec\": {
        \"template\": \"template1\",
        \"replicas\": 1,
        \"additional_network\": [
          {
            \"name\": \"nw1\",
            \"port_number\": 1111,
            \"group\": \"gp1\",
            \"http_path\": \"/\"
          },
          {
            \"name\": \"nw2\",
            \"port_number\": 3333,
            \"group\": \"gp2\",
            \"http_path\": \"/\"
          },
          {
            \"name\": \"nw3\",
            \"port_number\": 2222,
            \"group\": \"gp3\",
            \"http_path\": \"/\"
          }
        ]
      },
      \"status\": {
        \"phase\": \"Pending\"
      }
    }
  ]
}
"""

['Dashboard server [Workspace] [GetWorkspaces] ✅ success in normal context: Entry: admin-user, user_name:"normal-user" 1']
SnapShot = """
{
  \"message\": \"No items found\"
}
"""

['Dashboard server [Workspace] [GetWorkspaces] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" 1']
SnapShot = """
{
  \"message\": \"No items found\"
}
"""

['Dashboard server [Workspace] [GetWorkspaces] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [GetWorkspaces] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [Workspace] [GetWorkspaces] ❌ fail with unexpected error: Entry: admin-user, user_name:"admin-user" 1']
SnapShot = 'internal: failed to list workspaces'

['Dashboard server [Workspace] [UpdateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [Workspace] [UpdateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" replicas:0 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"workspace\": {
    \"name\": \"ws1\",
    \"owner_name\": \"admin-user\",
    \"spec\": {
      \"template\": \"template1\"
    },
    \"status\": {
      \"phase\": \"Pending\"
    }
  }
}
"""

['Dashboard server [Workspace] [UpdateWorkspace] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" replicas:0 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-admin-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 0
  },
  \"Status\": {
    \"instance\": {},
    \"phase\": \"Pending\",
    \"config\": {
      \"mainServicePortName\": \"main\"
    }
  }
}
"""

['Dashboard server [Workspace] [UpdateWorkspace] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" ws_name:"ws1" replicas:5 1']
SnapShot = 'internal: failed to update workspace'

['Dashboard server [Workspace] [UpdateWorkspace] ❌ fail with an unexpected error at update: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" replicas:0 1']
SnapShot = 'internal: failed to update workspace'

['Dashboard server [Workspace] [UpdateWorkspace] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" replicas:0 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [UpdateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" replicas:1 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [Workspace] [UpdateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"normal-user" ws_name:"xxx" replicas:1 1']
SnapShot = 'not_found: workspace is not found'

['Dashboard server [Workspace] [UpdateWorkspace] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" ws_name:"ws1" replicas:0 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [Workspace] [UpsertNetworkRule] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 group:"gp2" http_path:"/"} 1']
SnapShot = """
{
  \"message\": \"Successfully upserted network rule\",
  \"network_rule\": {
    \"name\": \"nw2\",
    \"port_number\": 3000,
    \"group\": \"gp2\",
    \"http_path\": \"/\"
  }
}
"""

['Dashboard server [Workspace] [UpsertNetworkRule] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 group:"gp2" http_path:"/"} 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-admin-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1,
    \"network\": [
      {
        \"name\": \"nw1\",
        \"portNumber\": 9999,
        \"httpPath\": \"/\",
        \"host\": \"gp1-{{WOKRSPACE}}-{{USER}}.domain\",
        \"group\": \"gp1\",
        \"public\": false
      },
      {
        \"name\": \"nw2\",
        \"portNumber\": 3000,
        \"httpPath\": \"/\",
        \"host\": \"gp2-{{WOKRSPACE}}-{{USER}}.domain\",
        \"group\": \"gp2\",
        \"public\": false
      }
    ]
  },
  \"Status\": {
    \"instance\": {},
    \"phase\": \"Pending\",
    \"config\": {
      \"mainServicePortName\": \"main\"
    }
  }
}
"""

['Dashboard server [Workspace] [UpsertNetworkRule] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 public:true} 1']
SnapShot = """
{
  \"message\": \"Successfully upserted network rule\",
  \"network_rule\": {
    \"name\": \"nw2\",
    \"port_number\": 3000,
    \"public\": true
  }
}
"""

['Dashboard server [Workspace] [UpsertNetworkRule] ✅ success in normal context: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 public:true} 2']
SnapShot = """
{
  \"Name\": \"ws1\",
  \"Namespace\": \"cosmo-user-admin-user\",
  \"Spec\": {
    \"template\": {
      \"name\": \"template1\"
    },
    \"replicas\": 1,
    \"network\": [
      {
        \"name\": \"nw1\",
        \"portNumber\": 9999,
        \"httpPath\": \"/\",
        \"host\": \"gp1-{{WOKRSPACE}}-{{USER}}.domain\",
        \"group\": \"gp1\",
        \"public\": false
      },
      {
        \"name\": \"nw2\",
        \"portNumber\": 3000,
        \"httpPath\": \"/\",
        \"host\": \"nw2-{{WOKRSPACE}}-{{USER}}.domain\",
        \"group\": \"nw2\",
        \"public\": true
      }
    ]
  },
  \"Status\": {
    \"instance\": {},
    \"phase\": \"Pending\",
    \"config\": {
      \"mainServicePortName\": \"main\"
    }
  }
}
"""

['Dashboard server [Workspace] [UpsertNetworkRule] ✅ success in normal context: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 public:true} 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [UpsertNetworkRule] ❌ fail with an unexpected error at update: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 public:true} 1']
SnapShot = 'internal: failed to upsert network rule'

['Dashboard server [Workspace] [UpsertNetworkRule] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 group:"gp2" http_path:"/"} 1']
SnapShot = 'permission_denied'

['Dashboard server [Workspace] [UpsertNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws1" network_rule:{name:"nw2" port_number:9999 group:"gp1" http_path:"/"} 1']
SnapShot = """
invalid_argument: group 'gp1' and http path '/' is already used"""

['Dashboard server [Workspace] [UpsertNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"ws9" network_rule:{name:"nw2" port_number:3000 group:"gp1" http_path:"/"} 1']
SnapShot = 'not_found: workspace is not found'

['Dashboard server [Workspace] [UpsertNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" ws_name:"xxx" network_rule:{name:"nw2" port_number:3000 group:"gp2" http_path:"/"} 1']
SnapShot = 'not_found: workspace is not found'

['Dashboard server [Workspace] [UpsertNetworkRule] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxx" ws_name:"ws1" network_rule:{name:"nw2" port_number:3000 group:"gp2" http_path:"/"} 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [User] [CreateUser] ✅ success create user by admin: create group-admin user 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-admin-by-admin\",
    \"display_name\": \"create-user-admin-by-admin\",
    \"roles\": [
      \"team-admin\"
    ],
    \"auth_type\": \"password-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by admin: create group-admin user 2']
SnapShot = """
{
  \"Name\": \"create-user-admin-by-admin\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-admin-by-admin\",
    \"roles\": [
      {
        \"name\": \"team-admin\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by admin: create group-admin user 3']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-admin-by-admin\",
    \"display_name\": \"create-user-admin-by-admin\",
    \"roles\": [
      \"team-developer\",
      \"team-etc\"
    ],
    \"auth_type\": \"password-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by admin: create group-admin user 4']
SnapShot = """
{
  \"Name\": \"create-user-admin-by-admin\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-admin-by-admin\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      },
      {
        \"name\": \"team-etc\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by admin: create group-developer user 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-team-by-admin\",
    \"display_name\": \"create-user-team-by-admin\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by admin: create group-developer user 2']
SnapShot = """
{
  \"Name\": \"create-user-team-by-admin\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-team-by-admin\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create normal user 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-by-priv\",
    \"display_name\": \"create 1\",
    \"roles\": [
      \"team-a\",
      \"team-b\"
    ],
    \"auth_type\": \"password-secret\",
    \"addons\": [
      {
        \"template\": \"user-tmpl1\",
        \"vars\": {
          \"HOGE\": \"FUGA\"
        }
      }
    ],
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create normal user 2']
SnapShot = """
{
  \"Name\": \"create-user-by-priv\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create 1\",
    \"roles\": [
      {
        \"name\": \"team-a\"
      },
      {
        \"name\": \"team-b\"
      }
    ],
    \"authType\": \"password-secret\",
    \"addons\": [
      {
        \"template\": {
          \"name\": \"user-tmpl1\"
        },
        \"vars\": {
          \"HOGE\": \"FUGA\"
        }
      }
    ]
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create normal user with ldap auth 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-ldap\",
    \"display_name\": \"create-user-ldap\",
    \"auth_type\": \"ldap\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create normal user with ldap auth 2']
SnapShot = """
{
  \"Name\": \"create-user-ldap\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-ldap\",
    \"authType\": \"ldap\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create privileged user 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-priv-by-priv\",
    \"display_name\": \"create-user-priv-by-priv\",
    \"roles\": [
      \"cosmo-admin\"
    ],
    \"auth_type\": \"password-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create privileged user 2']
SnapShot = """
{
  \"Name\": \"create-user-priv-by-priv\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-priv-by-priv\",
    \"roles\": [
      {
        \"name\": \"cosmo-admin\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create user with namespace creation short delay before timeout 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-with-delay\",
    \"display_name\": \"create-user-with-delay\",
    \"auth_type\": \"password-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create user with namespace creation short delay before timeout 2']
SnapShot = """
{
  \"Name\": \"create-user-with-delay\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-with-delay\",
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create user with only name 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"create-user-only-name\",
    \"display_name\": \"create-user-only-name\",
    \"auth_type\": \"password-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success create user by privileged role: create user with only name 2']
SnapShot = """
{
  \"Name\": \"create-user-only-name\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create-user-only-name\",
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ❌ fail to create password timeout Entry: priv-user, user_name:"create-user-no-namespace" 1']
SnapShot = 'unavailable: 503 Service Unavailable'

['Dashboard server [User] [CreateUser] ❌ fail with authorization by role: admin user cannot create user including other roles 1']
SnapShot = """
permission_denied: forbidden: denied to access 'cosmo' group"""

['Dashboard server [User] [CreateUser] ❌ fail with authorization by role: normal user cannot create user 1']
SnapShot = 'permission_denied: forbidden: not admin'

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: including invalid charactor in username 1']
SnapShot = """
internal: failed to create user: User.cosmo-workspace.github.io \"create-user-INVALID\" is invalid: metadata.name: Invalid value: \"create-user-INVALID\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*')"""

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: invalid auth type 1']
SnapShot = 'invalid_argument: invalid CreateUserRequest.AuthType: value must be in list [ password-secret ldap]'

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: no name 1']
SnapShot = 'invalid_argument: invalid CreateUserRequest.UserName: value length must be between 1 and 50 runes, inclusive'

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: user already exist 1']
SnapShot = 'already_exists: failed to create user: users.cosmo-workspace.github.io "create-user-existing" already exists'

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: admin-user, user_name:"del-norole" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"del-norole\",
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: admin-user, user_name:"del-team-dev" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"del-team-dev\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: priv-user, user_name:"admin-user" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"admin-user\",
    \"display_name\": \"アドミン\",
    \"roles\": [
      \"team-admin\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: priv-user, user_name:"del-norole" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"del-norole\",
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: priv-user, user_name:"del-team-dev" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"del-team-dev\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: priv-user, user_name:"del-team-otherteam-dev" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"del-team-otherteam-dev\",
    \"roles\": [
      \"team-developer\",
      \"otherteam-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: priv-user, user_name:"normal-user" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ❌ fail with an unexpected error to delete: unexpected err on delete 1']
SnapShot = 'internal: failed to delete user: mock delete user error'

['Dashboard server [User] [DeleteUser] ❌ fail with an unexpected error to get: unexpected err on get 1']
SnapShot = 'internal: failed to get user: mock get user error'

['Dashboard server [User] [DeleteUser] ❌ fail with authorization by role: admin user cannot delete the user which has an other roles 1']
SnapShot = """
permission_denied: forbidden: denied to access 'otherteam' group"""

['Dashboard server [User] [DeleteUser] ❌ fail with authorization by role: admin user cannot delete the user which has an other roles 2']
SnapShot = """
permission_denied: forbidden: denied to access 'otherteam' group"""

['Dashboard server [User] [DeleteUser] ❌ fail with authorization by role: normal user cannot delete anyone 1']
SnapShot = 'permission_denied: forbidden: not admin'

['Dashboard server [User] [DeleteUser] ❌ fail with invalid request: deleting myself 1']
SnapShot = 'invalid_argument: trying to delete yourself'

['Dashboard server [User] [DeleteUser] ❌ fail with invalid request: deleting myself 2']
SnapShot = 'invalid_argument: trying to delete yourself'

['Dashboard server [User] [DeleteUser] ❌ fail with invalid request: user not found 1']
SnapShot = 'not_found: failed to get user: User.cosmo-workspace.github.io "xxxxxx" not found'

['Dashboard server [User] [GetUser] ✅ success in normal context: get myself 1']
SnapShot = """
{
  \"user\": {
    \"name\": \"admin-user\",
    \"display_name\": \"アドミン\",
    \"roles\": [
      \"team-admin\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [GetUser] ✅ success in normal context: get myself 2']
SnapShot = """
{
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [GetUser] ✅ success in normal context: privileged user can get other 1']
SnapShot = """
{
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [GetUser] ❌ fail with an unexpected error to get: unexpected err 1']
SnapShot = 'internal: failed to get user: mock test error'

['Dashboard server [User] [GetUser] ❌ fail with authorization by role: cannot get the other 1']
SnapShot = 'permission_denied: forbidden: invalid user authentication'

['Dashboard server [User] [GetUser] ❌ fail with authorization by role: cannot get the other 2']
SnapShot = 'permission_denied: forbidden: invalid user authentication'

['Dashboard server [User] [GetUser] ❌ fail with invalid request: user not found 1']
SnapShot = 'not_found: failed to get user: User.cosmo-workspace.github.io "notfound" not found'

['Dashboard server [User] [GetUsers] ✅ success in normal context: Entry: admin-user 1']
SnapShot = """
{
  \"items\": [
    {
      \"name\": \"admin-user\",
      \"display_name\": \"アドミン\",
      \"roles\": [
        \"team-admin\"
      ],
      \"auth_type\": \"password-secret\"
    },
    {
      \"name\": \"normal-user\",
      \"display_name\": \"お名前\",
      \"roles\": [
        \"team-developer\"
      ],
      \"auth_type\": \"password-secret\"
    },
    {
      \"name\": \"priv-user\",
      \"display_name\": \"特権\",
      \"roles\": [
        \"cosmo-admin\"
      ],
      \"auth_type\": \"password-secret\"
    }
  ]
}
"""

['Dashboard server [User] [GetUsers] ✅ success in normal context: Entry: priv-user 1']
SnapShot = """
{
  \"items\": [
    {
      \"name\": \"admin-user\",
      \"display_name\": \"アドミン\",
      \"roles\": [
        \"team-admin\"
      ],
      \"auth_type\": \"password-secret\"
    },
    {
      \"name\": \"normal-user\",
      \"display_name\": \"お名前\",
      \"roles\": [
        \"team-developer\"
      ],
      \"auth_type\": \"password-secret\"
    },
    {
      \"name\": \"priv-user\",
      \"display_name\": \"特権\",
      \"roles\": [
        \"cosmo-admin\"
      ],
      \"auth_type\": \"password-secret\"
    }
  ]
}
"""

['Dashboard server [User] [GetUsers] ✅ success with empty user: Entry: priv-user 1']
SnapShot = """
{
  \"message\": \"No items found\"
}
"""

['Dashboard server [User] [GetUsers] ❌ fail with an unexpected error at list: Entry: priv-user 1']
SnapShot = 'internal: failed to list users: mock user list error'

['Dashboard server [User] [GetUsers] ❌ fail with authorization by role: Entry: normal-user 1']
SnapShot = 'permission_denied: forbidden: not admin'

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"namechanged\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" display_name:"namechanged" 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" display_name:"namechanged" 3']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"namechanged\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: priv-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"namechanged\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: priv-user, user_name:"normal-user" display_name:"namechanged" 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: priv-user, user_name:"normal-user" display_name:"namechanged" 3']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"namechanged\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: empty display name 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: empty display name 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: empty display name 3']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with an unexpected error to update: Entry: priv-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = 'internal: failed to update user: mock update user error'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with authorization by role: Entry: admin-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = 'permission_denied: forbidden: invalid user authentication'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with authorization by role: Entry: normal-user, user_name:"priv-user" display_name:"namechanged" 1']
SnapShot = 'permission_denied: forbidden: invalid user authentication'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: no change 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: user not found 1']
SnapShot = 'not_found: failed to get user: User.cosmo-workspace.github.io "XXXXXX" not found'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: user not found: empty user name 1']
SnapShot = 'invalid_argument: invalid UpdateUserDisplayNameRequest.UserName: value length must be at least 1 runes'

['Dashboard server [User] [UpdateUserPassword] ✅ success with invalid request: Entry: normal-user, user_name:"normal-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\"
}
"""

['Dashboard server [User] [UpdateUserPassword] ✅ success with invalid request: Entry: priv-user, user_name:"priv-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\"
}
"""

['Dashboard server [User] [UpdateUserPassword] ❌ fail to verify password: Entry: priv-user, user_name:"priv-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'not_found: failed to verify password: failed to get password secret:  "secret" not found'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with an unexpected error : Entry: priv-user, user_name:"priv-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'internal: failed to register password: mock update error'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with authorization by role: Entry: admin-user, user_name:"normal-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'permission_denied: forbidden: invalid user authentication'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with authorization by role: Entry: normal-user, user_name:"priv-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'permission_denied: forbidden: invalid user authentication'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: priv-user, user_name:"XXXXXX" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'not_found: failed to verify password: failed to get password secret: Secret "password" not found'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: priv-user, user_name:"priv-user" current_password:"password" 1']
SnapShot = 'invalid_argument: invalid UpdateUserPasswordRequest.NewPassword: value length must be at least 1 runes'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: priv-user, user_name:"priv-user" current_password:"xxxxxx" new_password:"newPassword" 1']
SnapShot = 'permission_denied: forbidden: incorrect user or password'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: priv-user, user_name:"priv-user" new_password:"newPassword" 1']
SnapShot = 'invalid_argument: invalid UpdateUserPasswordRequest.CurrentPassword: value length must be at least 1 runes'

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: admin attach custom-role to normal-user 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"upd-norole\",
    \"roles\": [
      \"team-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: admin attach custom-role to normal-user 2']
SnapShot = """
{
  \"Name\": \"upd-norole\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: admin attach custom-role to normal-user 3']
SnapShot = """
{
  \"Name\": \"upd-norole\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: admin attach custom-role to other team user 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"upd-otherteam-dev\",
    \"roles\": [
      \"team-developer\",
      \"otherteam-developer\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: admin attach custom-role to other team user 2']
SnapShot = """
{
  \"Name\": \"upd-otherteam-dev\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"roles\": [
      {
        \"name\": \"otherteam-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: admin attach custom-role to other team user 3']
SnapShot = """
{
  \"Name\": \"upd-otherteam-dev\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"roles\": [
      {
        \"name\": \"team-developer\"
      },
      {
        \"name\": \"otherteam-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: priv attach cosmo-admin to normal-user 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"roles\": [
      \"cosmo-admin\"
    ],
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: priv attach cosmo-admin to normal-user 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"team-developer\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: priv attach cosmo-admin to normal-user 3']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"cosmo-admin\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: priv detach role from priv 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"priv-user\",
    \"display_name\": \"特権\",
    \"auth_type\": \"password-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: priv detach role from priv 2']
SnapShot = """
{
  \"Name\": \"priv-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"特権\",
    \"roles\": [
      {
        \"name\": \"cosmo-admin\"
      }
    ],
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: priv detach role from priv 3']
SnapShot = """
{
  \"Name\": \"priv-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"特権\",
    \"authType\": \"password-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with authorization by role: admin user cannot attach other team role 1']
SnapShot = """
permission_denied: forbidden: denied to access 'cosmo' group"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with authorization by role: admin user cannot attach other team role 2']
SnapShot = """
permission_denied: forbidden: denied to access 'otherteam' group"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with authorization by role: admin user cannot detach other team role 1']
SnapShot = """
permission_denied: forbidden: denied to access 'otherteam' group"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with authorization by role: normal user cannot update roles 1']
SnapShot = 'permission_denied: forbidden: not admin'

['Dashboard server [User] [UpdateUserRole] ❌ fail with invalid request: no change 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [User] [UpdateUserRole] ❌ fail with invalid request: user not found 1']
SnapShot = 'not_found: failed to get user: User.cosmo-workspace.github.io "XXXXXX" not found'

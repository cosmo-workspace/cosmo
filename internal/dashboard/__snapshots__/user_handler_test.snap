['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create" 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"user-create\",
    \"display_name\": \"user-create\",
    \"auth_type\": \"kosmo-secret\",
    \"addons\": [
      {
        \"template\": \"user-temple1\"
      }
    ],
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create" 2']
SnapShot = """
{
  \"Name\": \"user-create\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"user-create\",
    \"authType\": \"kosmo-secret\",
    \"addons\": [
      {
        \"template\": {
          \"name\": \"user-temple1\"
        }
      }
    ]
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create" display_name:"create 1" roles:"cosmo-admin" auth_type:"kosmo-secret" addons:{template:"user-temple1" vars:{key:"HOGE" value:"FUGA"}} 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"user-create\",
    \"display_name\": \"create 1\",
    \"roles\": [
      \"cosmo-admin\"
    ],
    \"auth_type\": \"kosmo-secret\",
    \"addons\": [
      {
        \"template\": \"user-temple1\",
        \"vars\": {
          \"HOGE\": \"FUGA\"
        }
      }
    ],
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create" display_name:"create 1" roles:"cosmo-admin" auth_type:"kosmo-secret" addons:{template:"user-temple1" vars:{key:"HOGE" value:"FUGA"}} 2']
SnapShot = """
{
  \"Name\": \"user-create\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"create 1\",
    \"roles\": [
      {
        \"name\": \"cosmo-admin\"
      }
    ],
    \"authType\": \"kosmo-secret\",
    \"addons\": [
      {
        \"template\": {
          \"name\": \"user-temple1\"
        },
        \"vars\": {
          \"HOGE\": \"FUGA\"
        }
      }
    ]
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create-custom-role" roles:"team-a" roles:"team-b" 1']
SnapShot = 'unavailable: 503 Service Unavailable'

['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create-later" 1']
SnapShot = """
{
  \"message\": \"Successfully created\",
  \"user\": {
    \"name\": \"user-create-later\",
    \"display_name\": \"user-create-later\",
    \"auth_type\": \"kosmo-secret\",
    \"default_password\": \"xxxxxxxx\"
  }
}
"""

['Dashboard server [User] [CreateUser] ✅ success succeed in normal context: Entry: admin-user, user_name:"user-create-later" 2']
SnapShot = """
{
  \"Name\": \"user-create-later\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"user-create-later\",
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [CreateUser] ❌ fail to create password timeout Entry: admin-user, user_name:"user-create-timeout" 1']
SnapShot = 'unavailable: 503 Service Unavailable'

['Dashboard server [User] [CreateUser] ❌ fail with authorization by role: Entry: normal-user, user_name:"user-create" 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: Entry: admin-user,  1']
SnapShot = 'unavailable: failed to create user'

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: Entry: admin-user, user_name:"normal-user" 1']
SnapShot = 'already_exists: user already exists'

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: Entry: admin-user, user_name:"user-create" auth_type:"xxxxxx" 1']
SnapShot = """
invalid_argument: 'authtype' is invalid"""

['Dashboard server [User] [CreateUser] ❌ fail with invalid request: Entry: admin-user, user_name:"user-createX" 1']
SnapShot = 'unavailable: failed to create user'

['Dashboard server [User] [DeleteUser] ✅ success in normal context: Entry: admin-user, user_name:"user-delete1" 1']
SnapShot = """
{
  \"message\": \"Successfully deleted\",
  \"user\": {
    \"name\": \"user-delete1\",
    \"display_name\": \"delete\",
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [DeleteUser] ❌ fail with an unexpected error to delete: Entry: admin-user, user_name:"user-delete1" 1']
SnapShot = 'internal: failed to delete user'

['Dashboard server [User] [DeleteUser] ❌ fail with an unexpected error to get: Entry: admin-user, user_name:"user-delete1" 1']
SnapShot = 'internal: failed to get user'

['Dashboard server [User] [DeleteUser] ❌ fail with authorization by role: Entry: normal-user, user_name:"user-delete1" 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [DeleteUser] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" 1']
SnapShot = 'invalid_argument: trying to delete yourself'

['Dashboard server [User] [DeleteUser] ❌ fail with invalid request: Entry: admin-user, user_name:"xxxxxx" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [User] [GetUser] ✅ success in normal context: Entry: admin-user, normal-user 1']
SnapShot = """
{
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [GetUser] ❌ fail with an unexpected error to get: Entry: admin-user, normal-user 1']
SnapShot = 'internal: failed to get user'

['Dashboard server [User] [GetUser] ❌ fail with authorization by role: Entry: normal-user, admin-user 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [GetUser] ❌ fail with invalid request: Entry: admin-user, XXXXX 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [User] [GetUsers] ✅ success in normal context: Entry: admin-user 1']
SnapShot = """
{
  \"items\": [
    {
      \"name\": \"admin-user\",
      \"display_name\": \"アドミン\",
      \"roles\": [
        \"cosmo-admin\"
      ],
      \"auth_type\": \"kosmo-secret\"
    },
    {
      \"name\": \"normal-user\",
      \"display_name\": \"お名前\",
      \"auth_type\": \"kosmo-secret\"
    }
  ]
}
"""

['Dashboard server [User] [GetUsers] ✅ success with empty user: Entry: admin-user 1']
SnapShot = """
{
  \"message\": \"No items found\"
}
"""

['Dashboard server [User] [GetUsers] ❌ fail with an unexpected error at list: Entry: admin-user 1']
SnapShot = 'internal: failed to list users'

['Dashboard server [User] [GetUsers] ❌ fail with authorization by role: Entry: normal-user 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: admin-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"namechanged\",
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: admin-user, user_name:"normal-user" display_name:"namechanged" 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"namechanged\",
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"namechanged\",
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ✅ success in normal context: Entry: normal-user, user_name:"normal-user" display_name:"namechanged" 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"namechanged\",
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with an unexpected error to update: Entry: admin-user, user_name:"normal-user" display_name:"namechanged" 1']
SnapShot = 'internal: failed to update user'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" display_name:"namechanged" 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: Entry: admin-user,  1']
SnapShot = 'not_found: user is not found'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: Entry: admin-user, user_name:"XXXXXX" display_name:"namechanged" 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: Entry: admin-user, user_name:"normal-user" 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [User] [UpdateUserDisplayName] ❌ fail with invalid request: Entry: admin-user, user_name:"normal-user" display_name:"お名前" 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [User] [UpdateUserPassword] ✅ success with invalid request: Entry: admin-user, user_name:"admin-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\"
}
"""

['Dashboard server [User] [UpdateUserPassword] ✅ success with invalid request: Entry: normal-user, user_name:"normal-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = """
{
  \"message\": \"Successfully updated\"
}
"""

['Dashboard server [User] [UpdateUserPassword] ❌ fail to verify password: Entry: admin-user, user_name:"admin-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'internal: failed to verify password'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with an unexpected error : Entry: admin-user, user_name:"admin-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'internal: failed to register password'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with authorization by role: Entry: normal-user, user_name:"admin-user" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: admin-user, user_name:"XXXXXX" current_password:"password" new_password:"newPassword" 1']
SnapShot = 'internal: failed to verify password'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" current_password:"password" 1']
SnapShot = 'invalid_argument: invalid UpdateUserPasswordRequest.NewPassword: value length must be at least 1 runes'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" current_password:"xxxxxx" new_password:"newPassword" 1']
SnapShot = 'permission_denied: incorrect user or password'

['Dashboard server [User] [UpdateUserPassword] ❌ fail with invalid request: Entry: admin-user, user_name:"admin-user" new_password:"newPassword" 1']
SnapShot = 'permission_denied: incorrect user or password'

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: attach cosmo-admin to normal-user 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"roles\": [
      \"cosmo-admin\"
    ],
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: attach cosmo-admin to normal-user 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"cosmo-admin\"
      }
    ],
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: attach custom-role to normal-user 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"normal-user\",
    \"display_name\": \"お名前\",
    \"roles\": [
      \"xxxxx\"
    ],
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: attach custom-role to normal-user 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"roles\": [
      {
        \"name\": \"xxxxx\"
      }
    ],
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: detach role from admin-user 1']
SnapShot = """
{
  \"message\": \"Successfully updated\",
  \"user\": {
    \"name\": \"admin-user\",
    \"display_name\": \"アドミン\",
    \"auth_type\": \"kosmo-secret\"
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ✅ success in normal context: detach role from admin-user 2']
SnapShot = """
{
  \"Name\": \"admin-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"アドミン\",
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with authorization by role: permission denied 1']
SnapShot = 'permission_denied'

['Dashboard server [User] [UpdateUserRole] ❌ fail with authorization by role: permission denied 2']
SnapShot = """
{
  \"Name\": \"normal-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"お名前\",
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with invalid request: no change 1']
SnapShot = 'invalid_argument: no change'

['Dashboard server [User] [UpdateUserRole] ❌ fail with invalid request: no change 2']
SnapShot = """
{
  \"Name\": \"admin-user\",
  \"Namespace\": \"\",
  \"Spec\": {
    \"displayName\": \"アドミン\",
    \"roles\": [
      {
        \"name\": \"cosmo-admin\"
      }
    ],
    \"authType\": \"kosmo-secret\"
  },
  \"Status\": {
    \"namespace\": {}
  }
}
"""

['Dashboard server [User] [UpdateUserRole] ❌ fail with invalid request: user not found 1']
SnapShot = 'not_found: user is not found'

['Dashboard server [User] [UpdateUserRole] ❌ fail with invalid request: user not found 2']
SnapShot = 'user is not found'

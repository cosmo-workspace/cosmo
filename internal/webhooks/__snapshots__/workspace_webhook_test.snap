['Workspace webhook when creating workspace should pass with defaulting networking 1']
SnapShot = """
{
  \"kind\": \"Workspace\",
  \"apiVersion\": \"cosmo-workspace.github.io/v1alpha1\",
  \"metadata\": {
    \"name\": \"testws1\",
    \"namespace\": \"cosmo-user-testuser-ws\",
    \"creationTimestamp\": null
  },
  \"spec\": {
    \"template\": {
      \"name\": \"code-server-test2\"
    },
    \"replicas\": 1,
    \"vars\": {
      \"DOMAIN\": \"example.com\",
      \"IMAGE_TAG\": \"latest\"
    },
    \"network\": [
      {
        \"name\": \"main\",
        \"portNumber\": 8080,
        \"httpPath\": \"/\",
        \"targetPortNumber\": 8080,
        \"host\": \"main-testws1-cosmo-user-testuser-ws.example.com\",
        \"group\": \"main\",
        \"public\": false
      }
    ]
  },
  \"status\": {
    \"instance\": {},
    \"config\": {}
  }
}
"""

['Workspace webhook when creating workspace within non user namespace should deny 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"namespaces \\\"cosmo-user-xxxxxx\\\" not found\",
    \"reason\": \"NotFound\",
    \"details\": {
      \"name\": \"cosmo-user-xxxxxx\",
      \"kind\": \"namespaces\"
    },
    \"code\": 404
  }
}
"""

['Workspace webhook when creating workspace without replica should pass and defaulting replica 1']
SnapShot = """
{
  \"kind\": \"Workspace\",
  \"apiVersion\": \"cosmo-workspace.github.io/v1alpha1\",
  \"metadata\": {
    \"name\": \"testws3\",
    \"namespace\": \"cosmo-user-testuser-ws\",
    \"creationTimestamp\": null
  },
  \"spec\": {
    \"template\": {
      \"name\": \"code-server-test2\"
    },
    \"replicas\": 1,
    \"vars\": {
      \"DOMAIN\": \"example.com\",
      \"IMAGE_TAG\": \"latest\"
    },
    \"network\": [
      {
        \"name\": \"main\",
        \"portNumber\": 8080,
        \"httpPath\": \"/\",
        \"targetPortNumber\": 8080,
        \"host\": \"main-testws3-cosmo-user-testuser-ws.example.com\",
        \"group\": \"main\",
        \"public\": false
      }
    ]
  },
  \"status\": {
    \"instance\": {},
    \"config\": {}
  }
}
"""

['Workspace webhook when creating workspace without workspace label should deny 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"mworkspace.kb.io\\\" denied the request: not type workspace\",
    \"code\": 400
  }
}
"""

['Workspace webhook when creating workspace ❌ fail with duplicated network rule group and path 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"vworkspace.kb.io\\\" denied the request: duplicate group and path. group=gp1,path=/\",
    \"code\": 400
  }
}
"""

['Workspace webhook when creating workspace ❌ fail with duplicated network rule host and path 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"vworkspace.kb.io\\\" denied the request: duplicate group and path. group=main,path=/\",
    \"code\": 400
  }
}
"""

['Workspace webhook when creating workspace ❌ fail with duplicated network rule host and path 2']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"vworkspace.kb.io\\\" denied the request: duplicate group and path. group=main,path=/\",
    \"code\": 400
  }
}
"""

['Workspace webhook when creating workspace ❌ fail with duplicated network rule name 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"vworkspace.kb.io\\\" denied the request: duplicate group and path. group=main,path=/\",
    \"code\": 400
  }
}
"""

['Workspace webhook when creating workspace ❌ fail with invalid port name 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"vworkspace.kb.io\\\" denied the request: must be no more than 15 characters\",
    \"code\": 400
  }
}
"""

['Workspace webhook when creating workspace ❌ fail with invalid port number 1']
SnapShot = """
{
  \"ErrStatus\": {
    \"metadata\": {},
    \"status\": \"Failure\",
    \"message\": \"admission webhook \\\"vworkspace.kb.io\\\" denied the request: must be between 1 and 65535, inclusive\",
    \"code\": 400
  }
}
"""
